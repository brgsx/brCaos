<!DOCTYPE html>
<html>
  <!-- Meta Pixel Code -->
  <script>
    !(function (f, b, e, v, n, t, s) {
      if (f.fbq) return;
      n = f.fbq = function () {
        n.callMethod
          ? n.callMethod.apply(n, arguments)
          : n.queue.push(arguments);
      };
      if (!f._fbq) f._fbq = n;
      n.push = n;
      n.loaded = !0;
      n.version = "2.0";
      n.queue = [];
      t = b.createElement(e);
      t.async = !0;
      t.src = v;
      s = b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t, s);
    })(
      window,
      document,
      "script",
      "https://connect.facebook.net/en_US/fbevents.js"
    );
    fbq("init", "132672980486156");
    fbq("track", "PageView");
  </script>
  <noscript
    ><img
      height="1"
      width="1"
      style="display: none"
      src="https://www.facebook.com/tr?id=132672980486156&ev=PageView&noscript=1"
  /></noscript>
  <!-- End Meta Pixel Code -->
  <head>
    <title>BR.CAOS</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    />
    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=VT323"
    />
    <style>
      body,
      html {
        height: 100%;
        margin: 0;
        background-color: black; /* Fundo preto */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-family: "VT323"; /* Fonte estilo pixel */
        color: #33ff33; /* Cor verde para o texto */
        text-align: center;
      }
      .ascii-art {
        font-family: monospace;
        font-size: 1.2em;
        margin-bottom: 10px;
      }
      .video-container {
        width: 100%;
        max-width: 250px;
        height: auto;
        margin-bottom: 10px;
      }
      video {
        width: 100%;
        height: auto;
      }
      #counter {
        font-size: 1.3em;
        margin-bottom: 10px;
        text-align: center;
      }
      .social-icons {
        font-size: 2em;
        color: white;
        margin-top: 10px;
      }
      .social-icons a {
        margin: 0 10px;
      }

      @media (max-width: 768px) {
        .ascii-art {
          font-size: 1em;
        }
        .video-container {
          max-width: 100%;
        }
        #counter {
          font-size: 1.5em;
          text-align: start;
        }
        .social-icons {
          font-size: 1.5em;
        }
      }

      .form-container {
        background-color: #012; /* Fundo escuro */
        padding: 20px;
        border: 2px solid #33ff33; /* Borda verde */
        display: inline-block;
        margin-top: 10px;
      }

      input[type="text"],
      input[type="email"],
      input[type="tel"] {
        background-color: black;
        color: #33ff33;
        border: 1px solid #33ff33;
        padding: 5px;
        margin: 10px 0;
      }

      button {
        background-color: #33ff33;
        color: black;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
      }

      button:hover {
        background-color: #2c2;
      }
    </style>
    <script>


              function getRemainingTime(endDate) {
                  const now = new Date();
                  const endOfDay = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59, 999);
                  const differenceInDays = Math.ceil((endDate - now) / (1000 * 60 * 60 * 24));
                  const remainingHoursToday = (endOfDay - now) / (1000 * 60 * 60);
                  const totalHours = (differenceInDays * 24) + remainingHoursToday;

                  const days = Math.floor(differenceInDays);
                  const hours = Math.floor(totalHours);
                  const minutes = Math.floor((totalHours - hours) * 60);
                  const seconds = Math.floor(((totalHours - hours) * 60 - minutes) * 60);

                  return { days, hours, minutes, seconds };
              }

              function updateCounter() {
                  const { days, hours, minutes, seconds } = getRemainingTime(endDate);
                  const remainingTime = getRemainingTime(endDate);

                  const counterText = `${remainingTime.days} dias - ${remainingTime.hours} horas - ${remainingTime.minutes} minutos - ${remainingTime.seconds} segundos<br>para o <strong>CAOS</strong>`;
                  document.getElementById('counter').innerHTML = counterText;
              }

              const endDate = new Date('2024-01-31T00:00:00'); // Data do evento


              let timer = setInterval(updateCounter, 1000);

              document.addEventListener('DOMContentLoaded', function() {
                  const form = document.getElementById('myForm');
                  if (form) {
                      form.addEventListener('submit', function(e) {
                          e.preventDefault();

                          const formData = {
                                      "form":{
                                          "usuário":{
                                              dataCadastro: Date.now(),
                                              id:btoa(document.getElementById(""email"").value),
                                              nome:document.getElementById(""nome"").value,
                                              email:document.getElementById(""email"").value,
                                              telefone:document.getElementById(""telefone"").value
                                          }
                                      }
      }

                          fetch('https://caos.tgbprog.workers.dev/', {
                              method: 'POST',
                              headers: {
                                  'Content-Type': 'application/json',
                              },
                              body: JSON.stringify(formData)
                          })
                          .then(response => response.json())
                          .then(data => {
                              document.getElementById('response').textContent = 'Dados enviados com sucesso!';
                          })
                          .catch(error => {
                              console.error('Error:', error);
                          });
                      });
                  }

                  const endDate = new Date('2024-01-31T00:00:00');
                  let timer = setInterval(updateCounter, 1000);
                  updateCounter(); // Chame imediatamente para inicializar
              });
    </script>
  </head>
  <body>
    <pre class="ascii-art">
██████╗ ██████╗     ██████╗ █████╗  ██████╗ ███████╗
██╔══██╗██╔══██╗   ██╔════╝██╔══██╗██╔═══██╗██╔════╝
██████╔╝██████╔╝   ██║     ███████║██║   ██║███████╗
██╔══██╗██╔══██╗   ██║     ██╔══██║██║   ██║╚════██║
██████╔╝██║  ██║██╗╚██████╗██║  ██║╚██████╔╝███████║
╚═════╝ ╚═╝  ╚═╝╚═╝ ╚═════╝╚═╝  ╚═╝ ╚═════╝ ╚══════╝
    </pre>
    <div class="video-container">
      <video autoplay muted loop>
        <source src="caos.webm" type="video/webm" />
        Seu navegador não suporta vídeos.
      </video>
    </div>
    <div id="counter">Carregando contador...</div>
    <div class="form-container">
      <form id="myForm">
        <input type="text" id="nome" name="nome" placeholder="Nome" required />
        <input
          type="email"
          id="email"
          name="email"
          placeholder="Email"
          required
        />
        <input
          type="tel"
          id="telefone"
          name="telefone"
          placeholder="Telefone"
          required
        />
        <button type="submit">Enviar</button>
      </form>
      <div id="response"></div>
    </div>
    <div>
      <!-- Ícones das redes sociais -->
      <a href="https://www.instagram.com/brcaos/" target="_blank"
        ><i class="fab fa-instagram-square social-icons"></i
      ></a>
    </div>
  </body>
</html>
